<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.514dd3a0832339748572.css" id="gatsby-global-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;background:url(/assets/img/graph.png)}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Type System | Morpheus GraphQL</title><meta data-react-helmet="true" name="description" content="Haskell GraphQL library, 
    Build GraphQL APIs with your favourite functional language!"/><meta data-react-helmet="true" property="og:title" content="Type System"/><meta data-react-helmet="true" property="og:description" content="Haskell GraphQL library, 
    Build GraphQL APIs with your favourite functional language!"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@d.nalchevanidze@gmail.com"/><meta data-react-helmet="true" name="twitter:title" content="Type System"/><meta data-react-helmet="true" name="twitter:description" content="Haskell GraphQL library, 
    Build GraphQL APIs with your favourite functional language!"/><meta data-react-helmet="true" name="keywords" content="Morpheus GraphQL, GraphQL, Haskell, Type System"/><link rel="icon" href="/favicon-32x32.png?v=097595a7699cfb1bab1a6392bc1642e4" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=097595a7699cfb1bab1a6392bc1642e4"/><link as="script" rel="preload" href="/webpack-runtime-846458e3e33835b1dda5.js"/><link as="script" rel="preload" href="/framework-305b3707783ccc9d7ca6.js"/><link as="script" rel="preload" href="/app-3b0c26e251041c8bb671.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-ca9cf6b76148600859f6.js"/><link as="script" rel="preload" href="/component---src-pages-server-mdx-314b929c1d97f56f76f7.js"/><link as="fetch" rel="preload" href="/page-data/server/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><svg width="100%" height="30vw" style="position:relative" viewBox="0 0 250 250"><path fill="#7b57b7" d="M115.8 208.6h-1.2l3.5-17.3h1.2l-.5 2.6c.5-1 1.2-1.7 2-2.2 1-.6 1.9-.9 2.9-.9 1.7 0 2.9.6 3.7 1.9.8 1.2 1 2.8.5 4.9-.3 2-1.1 3.5-2.4 4.7a6 6 0 0 1-4.3 1.8c-.9 0-1.7-.3-2.5-.8a3.9 3.9 0 0 1-1.4-2.1l-1.5 7.4zm34-4.3c-2 0-3.6-.9-4.8-2.8a8.3 8.3 0 0 1-1.1-6.4 12 12 0 0 1 3.5-6.6 8.7 8.7 0 0 1 6.2-2.6c2 0 3.6 1 4.8 2.8 1.3 1.9 1.6 4 1.2 6.4-.3 1.6-.8 3-1.5 4.2a9.7 9.7 0 0 1-2.3 3l2 1.8-1 1-2.2-2c-.4.4-1 .7-1.9 1l-2.8.2zm-57.7-.4h-.9l.7-3.6a7.8 7.8 0 0 1-6.9 4c-2.1 0-3.9-.9-5.2-2.8a8 8 0 0 1-1.3-6.4c.6-2.7 1.8-4.9 3.7-6.6 2-1.8 4.1-2.6 6.6-2.6a6 6 0 0 1 4.2 1.6c1.1 1 1.7 2.3 1.7 3.8h-1.2c0-1.2-.5-2.2-1.4-3-1-.9-2.2-1.3-3.6-1.3a8 8 0 0 0-5.6 2.3 10.4 10.4 0 0 0-3.2 5.8c-.4 2.1 0 4 1.1 5.7a5.2 5.2 0 0 0 4.5 2.4 7 7 0 0 0 4.7-1.8 8.3 8.3 0 0 0 2.7-4.7v-.4h-6l.2-1.2h7l-1.8 8.8zm13.2-9H104l.2-.8c.2-.9.7-1.6 1.7-2.2 1-.6 2.2-.8 3.5-.8 1.3 0 2.3.3 3.1.9.9.6 1.2 1.2 1 2l-1.5 7.6a2 2 0 0 0 .1 1.3c.2.4.4.6.7.6h.3l.2-.2-.1.6-1.2.2c-.4 0-.8-.2-1-.6-.3-.4-.4-.9-.3-1.4a4 4 0 0 1-1.8 1.6c-.8.4-1.8.6-2.8.6a4 4 0 0 1-3-1c-.7-.8-1-1.6-.8-2.5a4 4 0 0 1 1.7-2.6 7 7 0 0 1 3.6-1.2c1.3-.1 2.4-.3 3.2-.5.8-.3 1.3-.7 1.4-1l.2-1.2c.1-.6-.2-1.1-.8-1.6-.6-.5-1.4-.7-2.4-.7s-1.9.2-2.6.6c-.7.4-1.2 1-1.3 1.6l-.1.7zm-8.9 9h-1.2l2.6-12.6h1.1l-.5 2.8c.5-1 1.1-1.7 2-2.2.7-.6 1.4-.8 2.2-.8h.7l-.3 1.3h-.2c-1 0-2 .3-2.8 1-1 .8-1.6 1.8-2 3l-1.6 7.5zm75 0h-10.7l3.6-17.6h1.2l-3.3 16.5h9.5l-.3 1.1zm-40.5 0h-1.2l3.5-17.6h1.2l-1.5 7.3c.6-.8 1.4-1.5 2.2-2 .9-.5 1.8-.8 2.7-.8 1.1 0 2 .5 2.7 1.4.7 1 1 2 .8 3.1l-1.8 8.6h-1.2l1.7-8.3c.2-1 0-1.9-.4-2.6a2.3 2.3 0 0 0-2-1.1c-1 0-2 .3-2.9 1a7 7 0 0 0-2.1 2.8l-1.7 8.2zm-24.5-.4c1 0 2-.4 3-1 .9-.7 1.6-1.6 2-2.7l.6-2.9a5 5 0 0 1-1.6.6l-3 .4c-1 0-1.8.4-2.5 1a3 3 0 0 0-1.3 1.9c-.1.6 0 1.3.7 1.8.5.6 1.2.9 2 .9zm14.9-.3c1.3 0 2.5-.5 3.5-1.5s1.6-2.5 2-4.2c.3-1.8.2-3.2-.4-4.2-.6-1-1.5-1.6-2.8-1.6-1.3 0-2.5.6-3.5 1.6a8 8 0 0 0-2 4.2c-.4 1.5-.2 2.8.5 4 .6 1.2 1.5 1.7 2.7 1.7zm28.8 0a7 7 0 0 0 3.7-.8l-1.5-1.3 1.2-1 1.5 1.4c1.7-1.7 2.9-3.8 3.4-6.4.4-2 0-4-1-5.6-1-1.7-2.3-2.5-4-2.5-2 0-3.7.8-5.3 2.3a10.9 10.9 0 0 0-3 5.8c-.5 2.1-.2 4 .9 5.7 1 1.6 2.4 2.4 4 2.4z"></path><path fill="#370c6b" d="M46.2 52.6L10 162.2h23.9L70 52.6H46.2zm35 23.9l10.1-24h24l-23.7 55-10.5-31z"></path><path fill="hsla(260, 90%, 60%, 1)" d="M91.5 52.6h23.7l35.2 109.6h-23.8L91.5 52.6zm-45.3 0H70l35.2 109.6H81.4L46.2 52.6zm99.5 77h39.1v19.8h-32.2l-6.9-19.8zM198 86l33.6 29.8-32.8 31.1-10.7-11.4 20.6-19.5-21-18.4L197.8 86zm-67.2-.7l6.6 19.7 47.4-.2.3-19.5h-54.3zm28-8.8h-4.3l2.9-20.4h4l-.3 1.8.8-.8a7.2 7.2 0 0 1 2.4-1.2l1.4-.2c1 0 2 .2 2.8.5a5.2 5.2 0 0 1 3 3.8 9.5 9.5 0 0 1-2.4 8c-.6.8-1.3 1.3-2.2 1.7a7 7 0 0 1-5.2.2c-.7-.3-1.3-.7-1.7-1.4l-1.2 8zM126.1 63a8 8 0 0 1 3-5.3 9.5 9.5 0 0 1 8.7-1.5 5.7 5.7 0 0 1 3.6 3.8c.4 1 .4 2 .3 3a7.9 7.9 0 0 1-1 3 8.7 8.7 0 0 1-7.8 4.3c-1.1 0-2.1-.1-3-.5a5.8 5.8 0 0 1-3.6-3.8c-.3-.9-.3-1.9-.2-3zM232 60.1c-.5-.8-1.3-1.2-2.4-1.2-.3 0-.7 0-1 .2a1 1 0 0 0-.7 1c0 .3.1.5.4.7l1.3.4 1.7.4 1.7.7c.5.3.9.7 1.1 1.2.3.6.4 1.3.3 2.1-.1 1-.4 1.7-1 2.3-.4.6-1 1-1.6 1.4-.7.3-1.4.6-2.2.7-.8.2-1.5.2-2.3.2-1 0-2-.1-2.9-.4-1-.3-1.7-.8-2.3-1.5l3-2.9c.3.5.7 1 1.2 1.2.4.2 1 .4 1.6.4l1.4-.2c.4-.2.7-.5.7-.8.1-.4 0-.7-.4-.9l-1.3-.4-1.7-.4-1.6-.7a3 3 0 0 1-1.2-1.2c-.3-.5-.4-1.2-.3-2 .2-.9.4-1.6.8-2.2l1.6-1.5 2-.8a9 9 0 0 1 4.9.1c1 .3 1.6.8 2.2 1.5l-3 2.6zM215.6 68a5.8 5.8 0 0 1-1.7 1.5 5.9 5.9 0 0 1-5.3.2 3 3 0 0 1-1.4-1.4 5 5 0 0 1-.4-2c0-.9 0-1.7.2-2.7l1-7.6h4.4l-1 6.8-.2 1.2.1 1.2c.1.4.3.7.6 1l1.2.2c.6 0 1 0 1.4-.3.4-.2.7-.4 1-.8l.4-1 .3-1.4 1-7h4.3l-2 14h-4l.2-1.9zm-21.4-3.7c0 .8.4 1.4.9 2 .5.4 1.2.7 2 .7.7 0 1.3-.2 1.9-.5.5-.3 1-.7 1.4-1.2l2.7 2.2c-.8.9-1.7 1.5-2.9 2a8.6 8.6 0 0 1-6.3.2 5.8 5.8 0 0 1-3.6-3.8 8 8 0 0 1 2.8-8.3 9.5 9.5 0 0 1 5.8-2c1 0 1.9.2 2.6.5.8.4 1.4.9 2 1.5.4.6.7 1.4 1 2.3a9 9 0 0 1 0 3l-.3 1.4h-10zm-46.7 5.6h-4.3l2-14h4.3l-.3 2.3c.6-.9 1.2-1.5 2-2 .6-.4 1.4-.6 2.4-.6a9.8 9.8 0 0 1 1.4.2l-.5 3.9a6.8 6.8 0 0 0-1.8-.3 5 5 0 0 0-2 .3 3 3 0 0 0-1.3 1c-.3.4-.5 1-.7 1.5l-.4 1.9-.8 5.8zm29.9 0H173l3-21.7h4.3l-1.3 9.7.6-.8 1-.8a5.3 5.3 0 0 1 2.6-.7c1.1 0 2 .2 2.6.5.7.4 1.1.8 1.4 1.4.3.6.4 1.3.5 2.1 0 .8 0 1.7-.2 2.6l-1 7.7h-4.4l1-6.8.1-1.3v-1.2l-.6-.9c-.3-.2-.7-.3-1.3-.3a3 3 0 0 0-1.4.3l-.9.8-.5 1.1-.2 1.4-1 6.9zm-47-7c-.1 1 0 2 .6 2.6.5.6 1.3 1 2.4 1 1 0 2-.4 2.7-1 .7-.7 1.1-1.5 1.2-2.6.2-1 0-1.9-.5-2.5-.5-.7-1.3-1-2.4-1-1.1 0-2 .3-2.7 1-.7.6-1.1 1.5-1.3 2.5zm29.9 0c-.2 1 0 2 .5 2.6.5.6 1.3 1 2.4 1 1.1 0 2-.4 2.7-1 .7-.7 1.1-1.5 1.3-2.6.1-1 0-1.9-.6-2.5-.5-.7-1.3-1-2.4-1-1 0-2 .3-2.7 1-.6.6-1 1.5-1.2 2.5zm40-1.6c.1-.7 0-1.3-.4-1.8s-1-.8-1.8-.8a3.5 3.5 0 0 0-3.5 2.6h5.7z"></path></svg><div style="margin:0 auto;padding:20px 30px;display:flex;flex-direction:row;background:rgb(215 239 253 / 55%);text-align:center;align-items:center;position:relative"><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/"><h1 style="margin:0">Morpheus GraphQL</h1></a><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/about">About</a><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/server">Server</a><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/client">Client</a><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/examples">Examples</a><a style="color:hsl(211deg 23% 20%);text-decoration:none;padding:1rem 1rem;font-weight:600" href="/named-resolvers">Named Resolvers</a></div></div><div style="width:100%;background:rgb(215 239 253 / 65%)"><div style="display:grid;grid-template-columns:repeat(12, 1fr);gap:2em;max-width:1260px;margin:0 auto;padding:8rem 2rem;background:rgb(243 251 255 / 81%);border:2px solid white;border-radius:5px"><nav style="grid-column:1 / 3;display:flex;padding-bottom:5px;flex-direction:column;position:sticky;top:5vh;height:80vh"></nav><div style="grid-column:3 / 13"><h1>Server</h1><h2 id="type-system" style="color:black;text-decoration:none;padding:0.1rem 0rem">Type System</h2><p>Morpheus GraphQL covers all GraphQL data types with an equivalent
Haskell representation. A prerequisite for these representation types is that
they must be derived by <code>Generic</code> and provide corresponding <code>GQLType</code> instances.</p><h3 id="objects" style="color:black;text-decoration:none;padding:0.1rem 0rem">Object types</h3><p>Object types are represented in Morpheus with Haskell records,
where the parameter <code>m</code> passes the resolution monad
to the field resolution functions. The following code snippet, for example,
defines the type Deity with a nullable field <code>power</code> and a non-nullable field <code>name</code>.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Deity m = Deity
  { name :: m Text         -- Non-Nullable Field
  , power :: m Maybe Text   -- Nullable Field
  } deriving
    ( Generic
    , GQLType
    )</code>
        </deckgo-highlight-code><h3 id="arguments" style="color:black;text-decoration:none;padding:0.1rem 0rem">Arguments</h3><p>GraphQL arguments can be represented with two ways:</p><h4>Haskell records</h4><p>we can use Haskell records to declare GraphQL arguments,
where each field of a record represents a particular
argument, and can be accessed by name.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Query m = Query
  { deity :: DeityArgs -&gt; m Deity
  } deriving
    ( Generic
    , GQLType
    )

data DeityArgs = DeityArgs
  { name      :: Text        -- Required Argument
  , mythology :: Maybe Text  -- Optional Argument
  } deriving
     ( Generic,
       GQLType
     )</code>
        </deckgo-highlight-code><p>This approach is quite convenient for representing multiple arguments,
but cumbersome if we only need one argument for each field.
That is why we also introduce &quot;Tagged Arguments&quot;.</p><h4>Tagged function arguments</h4><p>Tagged arguments leverage type-level literals and enable GraphQL
arguments to be represented as a chain of named function arguments.
e.g. the following type defines GraphQL field <code>deity</code> with the
optional argument <code>name</code> of type <code>String</code>.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Query m = Query
  { deity :: Arg &quot;name&quot; (Maybe Text) -&gt; m Deity
  } deriving
    ( Generic
    , GQLType
    )</code>
        </deckgo-highlight-code><h3 id="query" style="color:black;text-decoration:none;padding:0.1rem 0rem">Query</h3><p>the GraphQL query type is represented in Morpheus GraphQL as a regular object type named <code>Query</code>.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Query m = Query
  { deity ::  m Deity
  } deriving
    ( Generic
    , GQLType
    )</code>
        </deckgo-highlight-code><h3 id="mutations" style="color:black;text-decoration:none;padding:0.1rem 0rem">Mutations</h3><p>In addition to queries, Morpheus also supports mutations. They behave just like regular queries and are defined similarly:</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">newtype Mutation m = Mutation
  { createDeity :: MutArgs -&gt; m Deity
  } deriving (Generic, GQLType)

rootResolver :: RootResolver IO  () Query Mutation Undefined
rootResolver =
  RootResolver
    { queryResolver = Query {...}
    , mutationResolver = Mutation { createDeity }
    , subscriptionResolver = Undefined
    }
    where
      -- Mutation Without Event Triggering
      createDeity :: MutArgs -&gt; ResolverM () IO Deity
      createDeity_args = lift setDBAddress

gqlApi :: ByteString -&gt; IO ByteString
gqlApi = interpreter rootResolver</code>
        </deckgo-highlight-code><h3 id="subscription" style="color:black;text-decoration:none;padding:0.1rem 0rem">Subscriptions</h3><p>In morpheus subscription and mutation communicate with Events,
<code>Event</code> consists with user defined <code>Channel</code> and <code>Content</code>.</p><p>Every subscription has its own Channel by which it will be triggered</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Channel
  = ChannelA
  | ChannelB

data Content
  = ContentA Int
  | ContentB Text

type MyEvent = Event Channel Content

newtype Query m = Query
  { deity :: m Deity
  } deriving (Generic)

newtype Mutation m = Mutation
  { createDeity :: m Deity
  } deriving (Generic)

newtype Subscription (m ::  * -&gt; * ) = Subscription
  { newDeity :: m  Deity
  } deriving (Generic)

newtype Subscription (m :: * -&gt; *) = Subscription
{ newDeity :: SubscriptionField (m Deity),
}
deriving (Generic)


type APIEvent = Event Channel Content

rootResolver :: RootResolver IO APIEvent Query Mutation Subscription
rootResolver = RootResolver
  { queryResolver        = Query { deity = fetchDeity }
  , mutationResolver     = Mutation { createDeity }
  , subscriptionResolver = Subscription { newDeity }
  }
 where
  -- Mutation Without Event Triggering
  createDeity :: ResolverM EVENT IO Address
  createDeity = do
      requireAuthorized
      publish [Event { channels = [ChannelA], content = ContentA 1 }]
      lift dbCreateDeity
  newDeity :: SubscriptionField (ResolverS EVENT IO Deity)
  newDeity = subscribe ChannelA $ do
    -- executed only once
    -- immediate response on failures
    requireAuthorized
    pure $ \(Event _ content) -&gt; do
        -- executes on every event
        lift (getDBAddress content)</code>
        </deckgo-highlight-code><h3 id="scalars" style="color:black;text-decoration:none;padding:0.1rem 0rem">Scalar types</h3><p>any Haskell data type can be represented as a GraphQL scalar type.
In order to do this, the type must be associated as
<code>SCALAR</code> and implemented with <code>DecodeScalar</code> and <code>EncodeScalar</code> instances.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Odd = Odd Int  deriving (Generic)

instance DecodeScalar Euro where
  decodeScalar (Int x) = pure $ Odd (... )
  decodeScalar _ = Left &quot;invalid Value!&quot;

instance EncodeScalar Euro where
  encodeScalar (Odd value) = Int value

instance GQLType Odd where
  type KIND Odd = SCALAR</code>
        </deckgo-highlight-code><h3 id="enums" style="color:black;text-decoration:none;padding:0.1rem 0rem">Enumeration types</h3><p>Data types where all constructors are empty are derived as GraphQL enums.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data City
  = Athens
  | Sparta
  | Corinth
  | Delphi
  | Argos
  deriving
    ( Generic
    , GQLType
    )</code>
        </deckgo-highlight-code><h3 id="wrappers" style="color:black;text-decoration:none;padding:0.1rem 0rem">Lists and Non-Null</h3><p>GraphQL Lists are represented with Haskell Lists.
However, since in Haskell each type is intrinsically not nullable,
nullable GraphQL fields are represented with <code>Maybe</code> Haskell data type and non-nullable
GraphQL fields with regular Haskell datatypes.</p><h3 id="interfaces" style="color:black;text-decoration:none;padding:0.1rem 0rem">Interfaces</h3><h6>Note: this feature will be introduced in version <strong>0.18.0</strong></h6><p>GraphQL interfaces is represented in Morpheus with <code>TypeGuard</code>.
in the following data type definition every use of <code>PersonInterface</code>
will be represented as GraphQL interface <code>Person</code> and allow server to
resolve different types from union <code>PersonImplements</code>.</p><p>All types of the union <code>PersonImplements</code> must be objects
and contain fields of type <code>Person</code>, otherwise the derivation fails.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">  -- interface Person
data Person m = Person { name ::  m Text }
  deriving
    (
      Generic,
      GQLType
    )

data PersonImplements m
  = PersonImplementsUser (User m)
  | PersonImplementsDeity (Deity m)
  deriving
    (
      Generic,
      GQLType
    )

-- typeGuard guards all variabts of union with person fields
type PersonInterface m = TypeGuard Person (PersonImplements m)</code>
        </deckgo-highlight-code><h3 id="unions" style="color:black;text-decoration:none;padding:0.1rem 0rem">Unions</h3><p>To use union type, all you have to do is derive the <code>GQLType</code> class. Using GraphQL <a href="https://graphql.org/learn/queries/#fragments"><em>fragments</em></a>, the arguments of each data constructor can be accessed from the GraphQL client.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Character
  = CharacterDeity Deity -- will be unwrapped, since Character + Deity = CharacterDeity
  | SomeDeity Deity -- will be wrapped since Character + Deity != SomeDeity
  | Creature { creatureName :: Text, creatureAge :: Int }
  | Demigod Text Text
  | Zeus
  deriving (Generic, GQLType)</code>
        </deckgo-highlight-code><p>where <code>Deity</code> is an object.</p><p>As we see, there are different kinds of unions. <code>Morpheus</code> handles them all.</p><p>This type will be represented as</p><deckgo-highlight-code language="graphql" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">union Character = Deity | SomeDeity | Creature | SomeMulti | Zeus

type SomeDeity {
  _0: Deity!
}

type Creature {
  creatureName: String!
  creatureAge: Int!
}

type Demigod {
  _0: Int!
  _1: String!
}

type Zeus {
  _: Unit!
}</code>
        </deckgo-highlight-code><p>By default, union members will be generated with wrapper objects.
There is one exception to this: if a constructor of a type is the type name concatenated with the name of the contained type, it will be referenced directly.
That is, given:</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Song = { songName :: Text, songDuration :: Float } deriving (Generic, GQLType)

data Skit = { skitName :: Text, skitDuration :: Float } deriving (Generic, GQLType)

data WrappedNode
  = WrappedSong Song
  | WrappedSkit Skit
  deriving (Generic, GQLType)

data NonWrapped
  = NonWrappedSong Song
  | NonWrappedSkit Skit
  deriving (Generic, GQLType)
</code>
        </deckgo-highlight-code><p>You will get the following schema:</p><deckgo-highlight-code language="graphql" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code"># has wrapper types
union WrappedNode = WrappedSong | WrappedSkit

# is a direct union
union NonWrapped = Song | Skit

type WrappedSong {
  _0: Song!
}

type WrappedSKit {
  _0: Skit!
}

type Song {
  songDuration: Float!
  songName: String!
}

type Skit {
  skitDuration: Float!
  skitName: String!
}</code>
        </deckgo-highlight-code><ul><li><p>for all other unions will be generated new object type. for types without record syntax, fields will be automatically indexed.</p></li><li><p>empty constructors will get field <code>_</code>associaced with type <code>Unit</code>.</p></li></ul><h3 id="inputs" style="color:black;text-decoration:none;padding:0.1rem 0rem">Input types</h3><p>Like object types, input types are represented by Haskell records.
However, they are not permitted to have monad parameters, as they represent serialisable values.</p><deckgo-highlight-code language="haskell" terminal="carbon" theme="one-dark" line-numbers="true">
          <code slot="code">data Deity = Deity
  { name :: Text         -- Non-Nullable Field
  , power :: Maybe Text   -- Nullable Field
  } deriving
    ( Generic
    , GQLType
    )</code>
        </deckgo-highlight-code></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/server/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-da20a1db8321d70d55d6.js"],"app":["/app-3b0c26e251041c8bb671.js"],"component---src-pages-404-js":["/component---src-pages-404-js-259f4ac87ed407e7efc1.js"],"component---src-pages-about-mdx":["/component---src-pages-about-mdx-0630378db68f92e6cb49.js"],"component---src-pages-client-mdx":["/component---src-pages-client-mdx-3eec678b863da9a5d579.js"],"component---src-pages-examples-mdx":["/component---src-pages-examples-mdx-a1e67245da01e5583ed8.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-756842e56aa86a7c0582.js"],"component---src-pages-named-resolvers-mdx":["/component---src-pages-named-resolvers-mdx-5b12eb2a09133303e5b4.js"],"component---src-pages-server-mdx":["/component---src-pages-server-mdx-314b929c1d97f56f76f7.js"],"polyfills-dom":["/polyfills-dom-93064dd2f9b42a28a028.js"],"polyfills-core-js":["/polyfills-core-js-a4f183078f1931404ea7.js"]};/*]]>*/</script><script src="/polyfill-da20a1db8321d70d55d6.js" nomodule=""></script><script src="/component---src-pages-server-mdx-314b929c1d97f56f76f7.js" async=""></script><script src="/commons-ca9cf6b76148600859f6.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-3b0c26e251041c8bb671.js" async=""></script><script src="/framework-305b3707783ccc9d7ca6.js" async=""></script><script src="/webpack-runtime-846458e3e33835b1dda5.js" async=""></script></body></html>