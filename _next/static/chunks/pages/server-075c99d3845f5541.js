(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{6759:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/server",function(){return s(2381)}])},7854:function(e,n,s){"use strict";s.d(n,{$:function(){return o}});var a=s(5893),c=s(7294),t=s(9450),l={color:"black",textDecoration:"none",padding:"0.1rem 0rem"},o=function(e){var n=e.id,s=e.children,o=e.level,r=void 0===o?1:o;return(0,(0,c.useContext)(t.L)[1])({id:n,level:r,children:s}),1===r?(0,a.jsx)("h2",{id:"".concat(n),style:l,children:s}):(0,a.jsx)("h3",{id:"".concat(n),style:l,children:s})};n.Z=o},4169:function(e,n,s){"use strict";var a=s(5893),c=s(9008);n.Z=function(e){var n=e.title;return(0,a.jsx)(c.default,{children:(0,a.jsxs)("title",{children:[n," | Morpheus GraphQL"]})})}},2381:function(e,n,s){"use strict";s.r(n);var a=s(5893),c=s(1151),t=s(4169),l=s(7854);function o(e){var n=Object.assign({h1:"h1",p:"p",code:"code",div:"div",pre:"pre",span:"span",h4:"h4",a:"a",em:"em",ul:"ul",li:"li",h3:"h3",ol:"ol",strong:"strong"},(0,c.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z,{title:"Type System"}),"\n",(0,a.jsx)(n.h1,{children:"Server"}),"\n",(0,a.jsx)(l.$,{id:"type-system",children:"Type System"}),"\n",(0,a.jsxs)(n.p,{children:["Morpheus GraphQL covers all GraphQL data types with an equivalent\nHaskell representation. A prerequisite for these representation types is that\nthey must be derived by ",(0,a.jsx)(n.code,{children:"Generic"})," and provide corresponding ",(0,a.jsx)(n.code,{children:"GQLType"})," instances."]}),"\n",(0,a.jsx)(l.$,{id:"objects",level:2,children:(0,a.jsx)(n.p,{children:"Object types"})}),"\n",(0,a.jsxs)(n.p,{children:["Object types are represented in Morpheus with Haskell records,\nwhere the parameter ",(0,a.jsx)(n.code,{children:"m"})," passes the resolution monad\nto the field resolution functions. The following code snippet, for example,\ndefines the type Deity with a nullable field ",(0,a.jsx)(n.code,{children:"power"})," and a non-nullable field ",(0,a.jsx)(n.code,{children:"name"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"         ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Non-Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"   ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"arguments",level:3,children:(0,a.jsx)(n.p,{children:"Arguments"})}),"\n",(0,a.jsx)(n.p,{children:"GraphQL arguments can be represented with two ways:"}),"\n",(0,a.jsx)(n.h4,{children:"Haskell records"}),"\n",(0,a.jsx)(n.p,{children:"we can use Haskell records to declare GraphQL arguments,\nwhere each field of a record represents a particular\nargument, and can be accessed by name."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"}),"      ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"        ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Required Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mythology"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"  ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Optional Argument"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n     ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n       ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n     ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:'This approach is quite convenient for representing multiple arguments,\nbut cumbersome if we only need one argument for each field.\nThat is why we also introduce "Tagged Arguments".'}),"\n",(0,a.jsx)(n.h4,{children:"Tagged function arguments"}),"\n",(0,a.jsxs)(n.p,{children:["Tagged arguments leverage type-level literals and enable GraphQL\narguments to be represented as a chain of named function arguments.\ne.g. the following type defines GraphQL field ",(0,a.jsx)(n.code,{children:"deity"})," with the\noptional argument ",(0,a.jsx)(n.code,{children:"name"})," of type ",(0,a.jsx)(n.code,{children:"String"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Arg"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"name"'})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"query",level:3,children:(0,a.jsx)(n.p,{children:"Query"})}),"\n",(0,a.jsxs)(n.p,{children:["the GraphQL query type is represented in Morpheus GraphQL as a regular object type named ",(0,a.jsx)(n.code,{children:"Query"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"}),"  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"mutations",level:3,children:(0,a.jsx)(n.p,{children:"Mutations"})}),"\n",(0,a.jsx)(n.p,{children:"In addition to queries, Morpheus also supports mutations. They behave just like regular queries and are defined similarly:"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MutArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"}),"  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"queryResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token operator",children:"..."}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mutationResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"subscriptionResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n    ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n      ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Mutation Without Event Triggering"}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MutArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverM"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity_args"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"lift"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"setDBAddress"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"gqlApi"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ByteString"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"gqlApi"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"interpreter"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"subscription",level:3,children:(0,a.jsx)(n.p,{children:"Subscriptions"})}),"\n",(0,a.jsxs)(n.p,{children:["In morpheus subscription and mutation communicate with Events,\n",(0,a.jsx)(n.code,{children:"Event"})," consists with user defined ",(0,a.jsx)(n.code,{children:"Channel"})," and ",(0,a.jsx)(n.code,{children:"Content"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Every subscription has its own Channel by which it will be triggered"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Channel"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ChannelA"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ChannelB"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Content"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ContentA"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Int"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ContentB"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MyEvent"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Event"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Channel"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Content"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"}),"  ",(0,a.jsx)(n.span,{className:"token operator",children:"*"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"*"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"newDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),"  ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"*"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"*"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"newDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"SubscriptionField"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"APIEvent"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Event"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Channel"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Content"}),"\n\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"APIEvent"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"rootResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RootResolver"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"queryResolver"}),"        ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"fetchDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"mutationResolver"}),"     ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Mutation"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"subscriptionResolver"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Subscription"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"newDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Mutation Without Event Triggering"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverM"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"EVENT"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Address"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"createDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"do"}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"requireAuthorized"}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"publish"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token constant",children:"Event"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"channels"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token constant",children:"ChannelA"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"content"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ContentA"})," ",(0,a.jsx)(n.span,{className:"token number",children:"1"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n      ",(0,a.jsx)(n.span,{className:"token hvariable",children:"lift"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"dbCreateDeity"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"newDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"SubscriptionField"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"ResolverS"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"EVENT"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"newDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"subscribe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ChannelA"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"do"}),"\n    ",(0,a.jsx)(n.span,{className:"token comment",children:"-- executed only once"}),"\n    ",(0,a.jsx)(n.span,{className:"token comment",children:"-- immediate response on failures"}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"requireAuthorized"}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"\\"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Event"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"content"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"do"}),"\n        ",(0,a.jsx)(n.span,{className:"token comment",children:"-- executes on every event"}),"\n        ",(0,a.jsx)(n.span,{className:"token hvariable",children:"lift"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"getDBAddress"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"content"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"scalars",level:2,children:(0,a.jsx)(n.p,{children:"Scalar types"})}),"\n",(0,a.jsxs)(n.p,{children:["any Haskell data type can be represented as a GraphQL scalar type.\nIn order to do this, the type must be associated as\n",(0,a.jsx)(n.code,{children:"SCALAR"})," and implemented with ",(0,a.jsx)(n.code,{children:"DecodeScalar"})," and ",(0,a.jsx)(n.code,{children:"EncodeScalar"})," instances."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Int"}),"  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DecodeScalar"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Euro"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"decodeScalar"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Int"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"x"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token operator",children:"..."})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"decodeScalar"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Left"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"invalid Value!"'}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"EncodeScalar"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Euro"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"encodeScalar"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"value"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Int"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"value"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"KIND"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Odd"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"SCALAR"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"enums",level:2,children:(0,a.jsx)(n.p,{children:"Enumeration types"})}),"\n",(0,a.jsx)(n.p,{children:"Data types where all constructors are empty are derived as GraphQL enums."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"City"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Athens"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Sparta"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Corinth"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Delphi"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Argos"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"wrappers",level:2,children:(0,a.jsx)(n.p,{children:"Lists and Non-Null"})}),"\n",(0,a.jsxs)(n.p,{children:["GraphQL Lists are represented with Haskell Lists.\nHowever, since in Haskell each type is intrinsically not nullable,\nnullable GraphQL fields are represented with ",(0,a.jsx)(n.code,{children:"Maybe"})," Haskell data type and non-nullable\nGraphQL fields with regular Haskell datatypes."]}),"\n",(0,a.jsx)(l.$,{id:"interfaces",level:2,children:(0,a.jsx)(n.p,{children:"Interfaces"})}),"\n",(0,a.jsxs)(n.p,{children:["GraphQL interfaces is represented in Morpheus with ",(0,a.jsx)(n.code,{children:"TypeGuard"}),".\nin the following data type definition every use of ",(0,a.jsx)(n.code,{children:"PersonInterface"}),"\nwill be represented as GraphQL interface ",(0,a.jsx)(n.code,{children:"Person"})," and allow server to\nresolve different types from union ",(0,a.jsx)(n.code,{children:"PersonImplements"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["All types of the union ",(0,a.jsx)(n.code,{children:"PersonImplements"})," must be objects\nand contain fields of type ",(0,a.jsx)(n.code,{children:"Person"}),", otherwise the derivation fails."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token comment",children:"-- interface Person"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Person"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Person"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"}),"  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"PersonImplements"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"PersonImplementsUser"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"User"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"PersonImplementsDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token comment",children:"-- typeGuard guards all variabts of union with person fields"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"PersonInterface"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"TypeGuard"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Person"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"PersonImplements"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"unions",level:2,children:(0,a.jsx)(n.p,{children:"Unions"})}),"\n",(0,a.jsxs)(n.p,{children:["To use union type, all you have to do is derive the ",(0,a.jsx)(n.code,{children:"GQLType"})," class. Using GraphQL ",(0,a.jsx)(n.a,{href:"https://graphql.org/learn/queries/#fragments",children:(0,a.jsx)(n.em,{children:"fragments"})}),", the arguments of each data constructor can be accessed from the GraphQL client."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Character"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"CharacterDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token comment",children:"-- will be unwrapped, since Character + Deity = CharacterDeity"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"SomeDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token comment",children:"-- will be wrapped since Character + Deity != SomeDeity"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Creature"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"creatureName"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"creatureAge"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Int"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Demigod"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Zeus"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["where ",(0,a.jsx)(n.code,{children:"Deity"})," is an object."]}),"\n",(0,a.jsxs)(n.p,{children:["As we see, there are different kinds of unions. ",(0,a.jsx)(n.code,{children:"Morpheus"})," handles them all."]}),"\n",(0,a.jsx)(n.p,{children:"This type will be represented as"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-graphql",children:(0,a.jsxs)(n.code,{className:"language-graphql",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"union"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Character"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token property",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"SomeDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"Creature"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"SomeMulti"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"Zeus"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"SomeDeity"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_0"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Deity"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Creature"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"creatureName"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"creatureAge"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"Int"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Demigod"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_0"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"Int"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_1"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Zeus"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Unit"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"By default, union members will be generated with wrapper objects.\nThere is one exception to this: if a constructor of a type is the type name concatenated with the name of the contained type, it will be referenced directly.\nThat is, given:"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Song"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"songName"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"songDuration"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Float"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Skit"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"skitName"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"skitDuration"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Float"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"WrappedNode"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"WrappedSong"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Song"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"WrappedSkit"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Skit"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"NonWrapped"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"NonWrappedSong"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Song"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"NonWrappedSkit"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Skit"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"You will get the following schema:"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-graphql",children:(0,a.jsxs)(n.code,{className:"language-graphql",children:[(0,a.jsx)(n.span,{className:"token comment",children:"# has wrapper types"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"union"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"WrappedNode"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token property",children:"WrappedSong"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"WrappedSkit"}),"\n\n",(0,a.jsx)(n.span,{className:"token comment",children:"# is a direct union"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"union"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"NonWrapped"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token property",children:"Song"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token property",children:"Skit"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"WrappedSong"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_0"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Song"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"WrappedSKit"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"_0"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Skit"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Song"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"songDuration"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"Float"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"songName"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token class-name",children:"Skit"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"skitDuration"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"Float"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n  ",(0,a.jsx)(n.span,{className:"token attr-name",children:"skitName"}),(0,a.jsx)(n.span,{className:"token punctuation",children:":"})," ",(0,a.jsx)(n.span,{className:"token scalar",children:"String"}),(0,a.jsx)(n.span,{className:"token operator",children:"!"}),"\n",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"for all other unions will be generated new object type. for types without record syntax, fields will be automatically indexed."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["empty constructors will get field ",(0,a.jsx)(n.code,{children:"_"}),"associaced with type ",(0,a.jsx)(n.code,{children:"Unit"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(l.$,{id:"inputs",level:2,children:(0,a.jsx)(n.p,{children:"Input types"})}),"\n",(0,a.jsx)(n.p,{children:"Like object types, input types are represented by Haskell records.\nHowever, they are not permitted to have monad parameters, as they represent serialisable values."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"         ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Non-Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"   ",(0,a.jsx)(n.span,{className:"token comment",children:"-- Nullable Field"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"directives",level:2,children:(0,a.jsx)(n.p,{children:"Directives"})}),"\n",(0,a.jsx)(n.h3,{children:"Default GQL Directives"}),"\n",(0,a.jsxs)(n.p,{children:["Moprheus GraphQL allows the use of standard GQL directives by applying them to ",(0,a.jsx)(n.code,{children:"GQLType.directives"}),"\nwith the functions ",(0,a.jsx)(n.code,{children:"enumDirective"}),", ",(0,a.jsx)(n.code,{children:"fieldDirective"}),", ",(0,a.jsx)(n.code,{children:"typeDirective"}),". The following examples\ndemonstrate the use of the Deprecated directive on enums and type fields."]}),"\n",(0,a.jsx)(n.h4,{children:"Field Diretives"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-hs",children:(0,a.jsxs)(n.code,{className:"language-hs",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"directives"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"fieldDirective"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"power"'})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deprecated"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"reason"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Just"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"some reason"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n      ",(0,a.jsx)(n.span,{className:"token operator",children:"<>"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"fieldDirective"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"name"'})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deprecated"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"reason"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Nothing"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.h4,{children:"Enum Diretives"}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-hs",children:(0,a.jsxs)(n.code,{className:"language-hs",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"City"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Athens"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Sparta"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Corinth"}),"\n  ",(0,a.jsx)(n.span,{className:"token operator",children:"|"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Delphi"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"City"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"directives"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"enumDirective"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Sparta"'})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deprecated"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"reason"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Nothing"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n      ",(0,a.jsx)(n.span,{className:"token operator",children:"<>"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"enumDirective"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Delphi"'})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deprecated"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"reason"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Just"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"oracle left the place"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.h3,{children:"Custom Directive Definition"}),"\n",(0,a.jsxs)(n.p,{children:["Moprheus GraphQL provides an API for defining custom GQL directives.\nThese directive definitions should implement ",(0,a.jsx)(n.code,{children:"GQLType"}),", ",(0,a.jsx)(n.code,{children:"Generic"})," and ",(0,a.jsx)(n.code,{children:"GQLDirective"})," instances.\ndepending on ",(0,a.jsx)(n.code,{children:"GQLDirective.DIRECTIVE_LOCATIONS"})," API requires implementation of one of the following\nvisitor typeclass instances: ",(0,a.jsx)(n.code,{children:"VisitType"}),", ",(0,a.jsx)(n.code,{children:"VisitField"}),", ",(0,a.jsx)(n.code,{children:"VisitEnum"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"The following example demonstrates the RemovePrefix definition directive that\nremoves prefixes from GQL objects and input objects."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-hs",children:(0,a.jsxs)(n.code,{className:"language-hs",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"prefix"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLDirective"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"}),"\n    ",(0,a.jsx)(n.span,{className:"token constant",children:"DIRECTIVE_LOCATIONS"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n      '",(0,a.jsx)(n.span,{className:"token punctuation",children:"["})," '",(0,a.jsx)(n.span,{className:"token constant",children:"OBJECT"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n         '",(0,a.jsx)(n.span,{className:"token constant",children:"INPUT_OBJECT"}),"\n       ",(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"VisitType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"visitTypeName"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"prefix"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"T"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token builtin",children:"drop"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"T"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"."}),(0,a.jsx)(n.span,{className:"token builtin",children:"length"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"prefix"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"visitTypeDescription"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"id"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["now we can apply this directive on type ",(0,a.jsx)(n.code,{children:"MythologyDeity"})," to remove prefix ",(0,a.jsx)(n.code,{children:"Mythology"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-hs",children:(0,a.jsxs)(n.code,{className:"language-hs",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MythologyDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MythologyDeity"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"power"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"MythologyDeity"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"directives"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"_"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"typeDirective"}),"  ",(0,a.jsx)(n.span,{className:"token constant",children:"RemovePrefix"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token hvariable",children:"prefix"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token string",children:'"Mythology"'}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(l.$,{id:"resolver",children:"Resolving"}),"\n",(0,a.jsx)(n.h3,{children:"Applicative and Monad instances"}),"\n",(0,a.jsx)(l.$,{id:"resolver-monad",level:2,children:(0,a.jsx)(n.p,{children:"Resolver Monad"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"Resolver"})," type has ",(0,a.jsx)(n.code,{children:"Applicative"})," and ",(0,a.jsx)(n.code,{children:"Monad"})," instances that can be used to compose resolvers."]}),"\n",(0,a.jsx)(n.h3,{children:"Handling Errors"}),"\n",(0,a.jsxs)(n.p,{children:["for errors you can use use either ",(0,a.jsx)(n.code,{children:"liftEither"}),", ",(0,a.jsx)(n.code,{children:"MonadError"})," or ",(0,a.jsx)(n.code,{children:"MonadFail"}),":\nat the and they have same result."]}),"\n",(0,a.jsxs)(n.p,{children:["with ",(0,a.jsx)(n.code,{children:"liftEither"})]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverQ"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"e"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"liftEither"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"$"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Left"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"db error"'}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["with ",(0,a.jsx)(n.code,{children:"MonadFail"})]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverQ"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"e"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token builtin",children:"fail"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"db error"'}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["with ",(0,a.jsx)(n.code,{children:"MonadError"})]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolverQ"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"e"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Deity"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveDeity"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"DeityArgs"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"throwError"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token string",children:'"db error"'})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLError"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(n.h1,{children:"Resolving Approaches"}),"\n",(0,a.jsx)(n.p,{children:"Morpheus GraphQL provides two way of type resolving."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Values as resolvers"}),": In this approach, you specify values\nfor the type definitions, where the resolvers are regular functions."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Named resolvers"}),": In this approach, we use the type class ",(0,a.jsx)(n.code,{children:"ResolveNamed"})," to define the\nresolver for each type. More information on this approach can be\nfound in the next section."]}),"\n"]}),"\n",(0,a.jsx)(l.$,{id:"named-resolvers",level:2,children:(0,a.jsx)(n.p,{children:"Named Resolvers"})}),"\n",(0,a.jsxs)(n.p,{children:["As mentioned earlier, in this approach we use ",(0,a.jsx)(n.code,{children:"ResolveNamed"}),"\nto define the resolver function for each type. In this resolver definition,\neach type also defines its dependency (identifier), which is used by the\ncompiler to provide a corresponding output resolution for certain input values.\nThat is, if we want to resolve a type as a field of another type, we must\nspecify a type dependency value for that particular type\ninstead of the type value. For a better illustration,\nlet's look at the following example:"]}),"\n",(0,a.jsx)(n.h3,{children:"App/Posts.hs"}),"\n",(0,a.jsx)(n.p,{children:"Let's say we want to create a GraphQL app for\na blogging website where we can either retrieve\nall posts or retrieve them by ID. Scheme definition for this\napplication would be as follows."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"title"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"posts"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"post"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Arg"})," ",(0,a.jsx)(n.span,{className:"token string",children:'"id"'})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ID"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Maybe"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["Now that we have type definitions, we can define their resolvers,\nstarting with type ",(0,a.jsx)(n.code,{children:"Post"}),". The following instance specifies that for each unique ",(0,a.jsx)(n.code,{children:"ID"}),"\nwe can resolve the corresponding ",(0,a.jsx)(n.code,{children:"Post"}),", where the post ",(0,a.jsx)(n.code,{children:"title"})," is retrieved by the post ",(0,a.jsx)(n.code,{children:"ID"}),"."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Monad"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Dep"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ID"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"title"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"getPostTitleById"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"Let's go to the next step and define a query resolver. Since the query does not\nrequire an ID, we define its dependency with the unit type."}),"\n",(0,a.jsxs)(n.p,{children:["To resolve the ",(0,a.jsx)(n.code,{children:"post"})," and ",(0,a.jsx)(n.code,{children:"posts"})," fields, we only get post ids and\npass them to the resolve function, which then resolves the\ncorresponding ",(0,a.jsx)(n.code,{children:"Post"})," values by calling the ",(0,a.jsx)(n.code,{children:"ResolveNamed"}),"\ninstance of the type ",(0,a.jsx)(n.code,{children:"Post"})," with those ids."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Monad"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Dep"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveNamed"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"posts"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"getPostIds"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n          ",(0,a.jsx)(n.span,{className:"token hvariable",children:"post"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token operator",children:"\\"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Arg"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"arg"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"->"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Just"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"arg"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["In the last step, we can derive the GraphQL application using\nthe data type ",(0,a.jsx)(n.code,{children:"NamedResolvers"})," by using a single constructor\n",(0,a.jsx)(n.code,{children:"NamedResolvers"})," without any fields."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"postsApp"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"App"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"postsApp"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deriveApp"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolvers"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolvers"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["In the background, the function ",(0,a.jsx)(n.code,{children:"deriveApp"})," traverses the data types and calls their\nown instances of ",(0,a.jsx)(n.code,{children:"NamedResolver"})," for each object and union type. In this way,\na ",(0,a.jsx)(n.code,{children:"ResolverMaps"})," (with type ",(0,a.jsx)(n.code,{children:"Map TypeName (DependencyValue -> ResolveValue)"}),") is derived that can\nbe used in GraphQL query execution."]}),"\n",(0,a.jsxs)(n.p,{children:["As you can see, the ",(0,a.jsx)(n.code,{children:"ResolverMaps"})," derived in this way can be\nmerged if the types with the same name have the same GraphQL\nkind and the same dependency.\nTherefore, types in applications derived with ",(0,a.jsx)(n.code,{children:"NamedResolvers"})," can be safely extended,\nwhich we will see in the next section."]}),"\n",(0,a.jsx)(n.h3,{children:"App/Authors.hs"}),"\n",(0,a.jsxs)(n.p,{children:["Let's say there is another team that wants to use the ",(0,a.jsx)(n.code,{children:"Posts"})," application as well,\nbut also needs to provide ",(0,a.jsx)(n.code,{children:"Authors"})," information. The new application should\nallow querying of all existing ",(0,a.jsx)(n.code,{children:"Authors"})," and extend the post type with the field ",(0,a.jsx)(n.code,{children:"author"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["One way to address these new requirements would be to rewrite our old application,\nbut that will impact (or even break) the existing application. Here, named resolvers can\nbe of additional help to us, as ",(0,a.jsx)(n.code,{children:"Apps"})," derived with named resolvers can be merged.\nWe can define our ",(0,a.jsx)(n.code,{children:"Authors"})," app separately and then merge it with the existing one."]}),"\n",(0,a.jsx)(n.p,{children:"In the following code snippets we define the Author and Query types."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Author"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Author"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Text"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"posts"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"data"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"authors"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"["}),(0,a.jsx)(n.span,{className:"token constant",children:"Author"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:"]"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["As you can see, we can query ",(0,a.jsx)(n.code,{children:"authors"}),", with each ",(0,a.jsx)(n.code,{children:"Author"})," having their fields ",(0,a.jsx)(n.code,{children:"name"})," and ",(0,a.jsx)(n.code,{children:"posts"}),".\nin the same manner as before, we can also provide their resolver implementation."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Monad"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Author"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Dep"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Author"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ID"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Author"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"name"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"getAuthorName"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:","}),"\n          ",(0,a.jsx)(n.span,{className:"token hvariable",children:"posts"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"getAuthorPosts"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n\n",(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Monad"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Dep"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveNamed"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"authors"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"getAuthorIds"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"At this stage, we have already implemented Authors and Query and now we can also\nstart thinking about the Post Type."}),"\n",(0,a.jsxs)(n.p,{children:["First note, that the post type used in this app does not need to\nbe imported from the ",(0,a.jsx)(n.code,{children:"App/Posts.hs"}),". We can simply define our type ",(0,a.jsx)(n.code,{children:"Post"})," with the new\nfield ",(0,a.jsx)(n.code,{children:"author"})," and all other fields associated with the post type will be automatically\ncompleted by the app ",(0,a.jsx)(n.code,{children:"App/Posts.hs"}),", after the merging."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token comment",children:"-- is alternative to extend type"}),"\n",(0,a.jsx)(n.span,{className:"token keyword",children:"newtype"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"author"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Author"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n  ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"deriving"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Generic"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:","})," ",(0,a.jsx)(n.span,{className:"token constant",children:"GQLType"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["Now we can start implementing the resolver for it.\nIt is of critical importance here, that the dependency of this type\nis the same as the dependency of ",(0,a.jsx)(n.code,{children:"Post"})," in ",(0,a.jsx)(n.code,{children:"App/Posts.hs"}),". If the\nargument of the function does not match, one of the implementations\nwill be unable to decode the argument during resolution and it will fail."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token keyword",children:"instance"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Monad"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"=>"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ResolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token keyword",children:"where"}),"\n  ",(0,a.jsx)(n.span,{className:"token keyword",children:"type"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Dep"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"Post"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolverT"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"m"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token constant",children:"ID"}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolveNamed"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n    ",(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"}),"\n      ",(0,a.jsx)(n.span,{className:"token constant",children:"Post"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"{"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"author"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"resolve"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token hvariable",children:"pure"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"uid"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n        ",(0,a.jsx)(n.span,{className:"token punctuation",children:"}"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"Since all resolvers are implemented, we can also derive the application.\nNote that this application can be used as a standalone application, however\nthe standalone version can only display the information provided by the Authors,\ni.e. the Post type will only have one field authors,\nand in the query we can only access authors."}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"authorsApp"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"App"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"authorsApp"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="}),"\n  ",(0,a.jsx)(n.span,{className:"token hvariable",children:"deriveApp"}),"\n    ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolvers"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"NamedResolvers"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Query"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"Undefined"}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"}),"\n"]})})}),"\n",(0,a.jsx)(n.p,{children:"However, if we want to access information from both apps,\nthe next section will show us how to merge them."}),"\n",(0,a.jsx)(n.h3,{children:"App.hs"}),"\n",(0,a.jsxs)(n.p,{children:["The data type ",(0,a.jsx)(n.code,{children:"App"})," has a ",(0,a.jsx)(n.code,{children:"Semigroup"})," instance that allows to\njoin multiple apps together."]}),"\n",(0,a.jsx)(n.div,{className:"remark-highlight",children:(0,a.jsx)(n.pre,{className:"language-haskell",children:(0,a.jsxs)(n.code,{className:"language-haskell",children:[(0,a.jsx)(n.span,{className:"token hvariable",children:"app"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"::"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"App"})," ",(0,a.jsx)(n.span,{className:"token punctuation",children:"("}),(0,a.jsx)(n.span,{className:"token punctuation",children:")"})," ",(0,a.jsx)(n.span,{className:"token constant",children:"IO"}),"\n",(0,a.jsx)(n.span,{className:"token hvariable",children:"app"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"="})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"authorsApp"})," ",(0,a.jsx)(n.span,{className:"token operator",children:"<>"})," ",(0,a.jsx)(n.span,{className:"token hvariable",children:"postsApp"}),"\n"]})})}),"\n",(0,a.jsxs)(n.p,{children:["Since both the ",(0,a.jsx)(n.code,{children:"Post"})," type definitions have the same dependency ",(0,a.jsx)(n.code,{children:"ID"}),",\nthe interpreter safely merge these two apps where type\n",(0,a.jsx)(n.code,{children:"Post"})," will be extended with new field ",(0,a.jsx)(n.code,{children:"author"}),"."]})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,c.ah)(),e.components),s=n.wrapper;return s?(0,a.jsx)(s,Object.assign({},e,{children:(0,a.jsx)(o,e)})):o(e)}},9008:function(e,n,s){e.exports=s(3121)},1151:function(e,n,s){"use strict";s.d(n,{ah:function(){return t}});var a=s(7294);const c=a.createContext({});function t(e){const n=a.useContext(c);return a.useMemo((()=>"function"===typeof e?e(n):{...n,...e}),[n,e])}}},function(e){e.O(0,[774,888,179],(function(){return n=6759,e(e.s=n);var n}));var n=e.O();_N_E=n}]);